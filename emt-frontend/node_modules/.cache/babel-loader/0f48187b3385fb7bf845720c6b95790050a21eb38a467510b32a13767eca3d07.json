{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport authorsRepository from \"../repository/authorsRepository\";\nconst initialState = {\n  \"authors\": [],\n  \"loading\": true\n};\nconst useAuthors = () => {\n  _s();\n  const [state, setState] = useState(initialState);\n  const fetchAuthors = useCallback(() => {\n    authorsRepository.findAll().then(response => {\n      setState({\n        \"authors\": response.data,\n        \"loading\": false\n      });\n    }).catch(error => console.log(error));\n  }, []);\n  const onDelete = useCallback(id => {\n    authorsRepository.delete(id).then(() => {\n      console.log(`Successfully deleted the product with ID ${id}.`);\n      fetchAuthors();\n    }).catch(error => console.log(error));\n  }, [fetchAuthors]);\n  useEffect(() => {\n    fetchAuthors();\n  }, [fetchAuthors]);\n  return state;\n};\n_s(useAuthors, \"cpeiALlF1BB9RPm+QFJnzL6ABeo=\");\nexport default useAuthors;","map":{"version":3,"names":["useCallback","useEffect","useState","authorsRepository","initialState","useAuthors","_s","state","setState","fetchAuthors","findAll","then","response","data","catch","error","console","log","onDelete","id","delete"],"sources":["/Users/snezhanakoleva/IdeaProjects/EMT/emt-frontend/src/hooks/useAuthors.js"],"sourcesContent":["import {useCallback, useEffect, useState} from \"react\";\nimport authorsRepository from \"../repository/authorsRepository\";\n\nconst initialState = {\n    \"authors\": [],\n    \"loading\": true,\n};\n\nconst useAuthors = () => {\n    const [state, setState] = useState(initialState);\n\n    const fetchAuthors = useCallback(() => {\n        authorsRepository\n            .findAll()\n            .then((response) => {\n                setState({\n                    \"authors\": response.data,\n                    \"loading\": false,\n                });\n            })\n            .catch((error) => console.log(error));\n    }, []);\n\n    const onDelete = useCallback((id) => {\n        authorsRepository\n            .delete(id)\n            .then(() => {\n                console.log(`Successfully deleted the product with ID ${id}.`);\n                fetchAuthors();\n            })\n            .catch((error) => console.log(error));\n    }, [fetchAuthors]);\n\n    useEffect(() => {\n        fetchAuthors();\n    }, [fetchAuthors]);\n\n    return state;\n};\n\nexport default useAuthors"],"mappings":";AAAA,SAAQA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACtD,OAAOC,iBAAiB,MAAM,iCAAiC;AAE/D,MAAMC,YAAY,GAAG;EACjB,SAAS,EAAE,EAAE;EACb,SAAS,EAAE;AACf,CAAC;AAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAACE,YAAY,CAAC;EAEhD,MAAMK,YAAY,GAAGT,WAAW,CAAC,MAAM;IACnCG,iBAAiB,CACZO,OAAO,CAAC,CAAC,CACTC,IAAI,CAAEC,QAAQ,IAAK;MAChBJ,QAAQ,CAAC;QACL,SAAS,EAAEI,QAAQ,CAACC,IAAI;QACxB,SAAS,EAAE;MACf,CAAC,CAAC;IACN,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,QAAQ,GAAGlB,WAAW,CAAEmB,EAAE,IAAK;IACjChB,iBAAiB,CACZiB,MAAM,CAACD,EAAE,CAAC,CACVR,IAAI,CAAC,MAAM;MACRK,OAAO,CAACC,GAAG,CAAC,4CAA4CE,EAAE,GAAG,CAAC;MAC9DV,YAAY,CAAC,CAAC;IAClB,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACN,YAAY,CAAC,CAAC;EAElBR,SAAS,CAAC,MAAM;IACZQ,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,CAACA,YAAY,CAAC,CAAC;EAElB,OAAOF,KAAK;AAChB,CAAC;AAACD,EAAA,CA9BID,UAAU;AAgChB,eAAeA,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}