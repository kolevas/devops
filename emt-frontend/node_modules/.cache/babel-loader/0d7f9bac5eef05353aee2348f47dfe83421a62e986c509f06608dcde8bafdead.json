{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\nimport booksRepository from \"../repository/booksRepository\";\nimport authorsRepository from \"../repository/authorsRepository\";\nconst useBookDetails = id => {\n  _s();\n  const [state, setState] = useState({\n    \"book\": null,\n    \"author\": null,\n    \"country\": null\n  });\n  useEffect(() => {\n    booksRepository.findById(id).then(response => {\n      setState(prevState => ({\n        ...prevState,\n        \"book\": response.data\n      }));\n      authorsRepository.findById(response.data.country.id).then(response => {\n        setState(prevState => ({\n          ...prevState,\n          \"author\": response.data\n        }));\n        countriesRepository.findById(response.data.country.id).then(response => {\n          setState(prevState => ({\n            ...prevState,\n            \"country\": response.data\n          }));\n        }).catch(error => console.log(error));\n      }).catch(error => console.log(error));\n    }).catch(error => console.log(error));\n  }, [id]);\n  return state;\n};\n_s(useBookDetails, \"DB6b55FQbcbkZ+RHizqa3sWy2Qg=\");\nexport default useBookDetails;","map":{"version":3,"names":["useEffect","useState","countriesRepository","booksRepository","authorsRepository","useBookDetails","id","_s","state","setState","findById","then","response","prevState","data","country","catch","error","console","log"],"sources":["/Users/snezhanakoleva/IdeaProjects/EMT/emt-frontend/src/hooks/useBookDetails.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\nimport booksRepository from \"../repository/booksRepository\";\nimport authorsRepository from \"../repository/authorsRepository\";\n\nconst useBookDetails = (id) => {\n    const [state, setState] = useState({\n        \"book\" : null,\n        \"author\": null,\n        \"country\": null,\n    });\n\n    useEffect(() => {\n        booksRepository\n            .findById(id)\n            .then((response) => {\n                setState(prevState => ({...prevState, \"book\": response.data}));\n                authorsRepository\n                    .findById(response.data.country.id)\n                    .then((response) => {\n                        setState(prevState => ({...prevState, \"author\": response.data}));\n                        countriesRepository\n                            .findById(response.data.country.id)\n                            .then((response)=>\n                            {\n                                setState(prevState => ({...prevState, \"country\" : response.data}));\n                            })\n                            .catch((error)=> console.log(error));\n                    })\n                    .catch((error) => console.log(error));\n            })\n            .catch((error) => console.log(error));\n    }, [id]);\n\n    return state;\n};\n\nexport default useBookDetails;\n"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,mBAAmB,MAAM,mCAAmC;AACnE,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,OAAOC,iBAAiB,MAAM,iCAAiC;AAE/D,MAAMC,cAAc,GAAIC,EAAE,IAAK;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC;IAC/B,MAAM,EAAG,IAAI;IACb,QAAQ,EAAE,IAAI;IACd,SAAS,EAAE;EACf,CAAC,CAAC;EAEFD,SAAS,CAAC,MAAM;IACZG,eAAe,CACVO,QAAQ,CAACJ,EAAE,CAAC,CACZK,IAAI,CAAEC,QAAQ,IAAK;MAChBH,QAAQ,CAACI,SAAS,KAAK;QAAC,GAAGA,SAAS;QAAE,MAAM,EAAED,QAAQ,CAACE;MAAI,CAAC,CAAC,CAAC;MAC9DV,iBAAiB,CACZM,QAAQ,CAACE,QAAQ,CAACE,IAAI,CAACC,OAAO,CAACT,EAAE,CAAC,CAClCK,IAAI,CAAEC,QAAQ,IAAK;QAChBH,QAAQ,CAACI,SAAS,KAAK;UAAC,GAAGA,SAAS;UAAE,QAAQ,EAAED,QAAQ,CAACE;QAAI,CAAC,CAAC,CAAC;QAChEZ,mBAAmB,CACdQ,QAAQ,CAACE,QAAQ,CAACE,IAAI,CAACC,OAAO,CAACT,EAAE,CAAC,CAClCK,IAAI,CAAEC,QAAQ,IACf;UACIH,QAAQ,CAACI,SAAS,KAAK;YAAC,GAAGA,SAAS;YAAE,SAAS,EAAGD,QAAQ,CAACE;UAAI,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;MAC5C,CAAC,CAAC,CACDD,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;IAC7C,CAAC,CAAC,CACDD,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACX,EAAE,CAAC,CAAC;EAER,OAAOE,KAAK;AAChB,CAAC;AAACD,EAAA,CA9BIF,cAAc;AAgCpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}