{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\nimport booksRepository from \"../repository/booksRepository\";\nimport authorsRepository from \"../repository/authorsRepository\";\nconst useBookDetails = id => {\n  _s();\n  const [state, setState] = useState({\n    \"book\": null,\n    \"author\": null,\n    \"country\": null\n  });\n  useEffect(() => {\n    booksRepository.findById(id).then(response => {\n      console.log(response.data);\n      setState(prevState => ({\n        ...prevState,\n        \"book\": response.data\n      }));\n      authorsRepository.findById(response.data.author).then(response => {\n        console.log(response.data);\n        setState(prevState => ({\n          ...prevState,\n          \"author\": response.data\n        }));\n        countriesRepository.findById(response.data.country.id).then(response => {\n          console.log(response.data);\n          setState(prevState => ({\n            ...prevState,\n            \"country\": response.data\n          }));\n        }).catch(error => console.log(error));\n      }).catch(error => console.log(error));\n    }).catch(error => console.log(error));\n  }, [id]);\n  return state;\n};\n_s(useBookDetails, \"DB6b55FQbcbkZ+RHizqa3sWy2Qg=\");\nexport default useBookDetails;","map":{"version":3,"names":["useEffect","useState","countriesRepository","booksRepository","authorsRepository","useBookDetails","id","_s","state","setState","findById","then","response","console","log","data","prevState","author","country","catch","error"],"sources":["/Users/snezhanakoleva/IdeaProjects/EMT/emt-frontend/src/hooks/useBookDetails.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\nimport booksRepository from \"../repository/booksRepository\";\nimport authorsRepository from \"../repository/authorsRepository\";\n\nconst useBookDetails = (id) => {\n    const [state, setState] = useState({\n        \"book\" : null,\n        \"author\": null,\n        \"country\": null,\n    });\n\n    useEffect(() => {\n        booksRepository\n            .findById(id)\n            .then((response) => {\n                console.log(response.data)\n                setState(prevState => ({...prevState, \"book\": response.data}));\n                authorsRepository\n                    .findById(response.data.author)\n                    .then((response) => {\n                        console.log(response.data)\n                        setState(prevState => ({...prevState, \"author\": response.data}));\n                        countriesRepository\n                            .findById(response.data.country.id)\n                            .then((response)=>\n                            {\n                                console.log(response.data)\n                                setState(prevState => ({...prevState, \"country\" : response.data}));\n                            })\n                            .catch((error)=> console.log(error));\n                    })\n                    .catch((error) => console.log(error));\n            })\n            .catch((error) => console.log(error));\n    }, [id]);\n\n    return state;\n};\n\nexport default useBookDetails;\n"],"mappings":";AAAA,SAAQA,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACzC,OAAOC,mBAAmB,MAAM,mCAAmC;AACnE,OAAOC,eAAe,MAAM,+BAA+B;AAC3D,OAAOC,iBAAiB,MAAM,iCAAiC;AAE/D,MAAMC,cAAc,GAAIC,EAAE,IAAK;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC;IAC/B,MAAM,EAAG,IAAI;IACb,QAAQ,EAAE,IAAI;IACd,SAAS,EAAE;EACf,CAAC,CAAC;EAEFD,SAAS,CAAC,MAAM;IACZG,eAAe,CACVO,QAAQ,CAACJ,EAAE,CAAC,CACZK,IAAI,CAAEC,QAAQ,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC1BN,QAAQ,CAACO,SAAS,KAAK;QAAC,GAAGA,SAAS;QAAE,MAAM,EAAEJ,QAAQ,CAACG;MAAI,CAAC,CAAC,CAAC;MAC9DX,iBAAiB,CACZM,QAAQ,CAACE,QAAQ,CAACG,IAAI,CAACE,MAAM,CAAC,CAC9BN,IAAI,CAAEC,QAAQ,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1BN,QAAQ,CAACO,SAAS,KAAK;UAAC,GAAGA,SAAS;UAAE,QAAQ,EAAEJ,QAAQ,CAACG;QAAI,CAAC,CAAC,CAAC;QAChEb,mBAAmB,CACdQ,QAAQ,CAACE,QAAQ,CAACG,IAAI,CAACG,OAAO,CAACZ,EAAE,CAAC,CAClCK,IAAI,CAAEC,QAAQ,IACf;UACIC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;UAC1BN,QAAQ,CAACO,SAAS,KAAK;YAAC,GAAGA,SAAS;YAAE,SAAS,EAAGJ,QAAQ,CAACG;UAAI,CAAC,CAAC,CAAC;QACtE,CAAC,CAAC,CACDI,KAAK,CAAEC,KAAK,IAAIP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAAC;MAC5C,CAAC,CAAC,CACDD,KAAK,CAAEC,KAAK,IAAKP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAAC;IAC7C,CAAC,CAAC,CACDD,KAAK,CAAEC,KAAK,IAAKP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACd,EAAE,CAAC,CAAC;EAER,OAAOE,KAAK;AAChB,CAAC;AAACD,EAAA,CAjCIF,cAAc;AAmCpB,eAAeA,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}