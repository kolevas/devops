{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback, useEffect, useState } from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\nconst initialState = {\n  \"countries\": [],\n  \"loading\": true\n};\nconst useCountries = () => {\n  _s();\n  const [state, setState] = useState(initialState);\n  const fetchCountries = useCallback(() => {\n    countriesRepository.findAll().then(response => {\n      setState({\n        \"countries\": response.data,\n        \"loading\": false\n      });\n    }).catch(error => console.log(error));\n  }, []);\n  const onAdd = useCallback(data => {\n    countriesRepository.add(data).then(() => {\n      console.log(\"Successfully added a new product.\");\n      fetchCountries();\n    }).catch(error => console.log(error));\n  }, [fetchCountries]);\n  const onEdit = useCallback((id, data) => {\n    countriesRepository.edit(id, data).then(() => {\n      console.log(`Successfully edited the product with ID ${id}.`);\n      fetchCountries();\n    }).catch(error => console.log(error));\n  }, [fetchCountries]);\n  const onDelete = useCallback(id => {\n    countriesRepository.delete(id).then(() => {\n      console.log(`Successfully deleted the book with ID ${id}.`);\n      fetchCountries();\n    }).catch(error => console.log(error));\n  }, [fetchCountries]);\n  useEffect(() => {\n    fetchCountries();\n  }, [fetchCountries]);\n  return {\n    ...state,\n    onAdd: onAdd,\n    onEdit: onEdit,\n    onDelete: onDelete\n  };\n  // return {...state, onDelete: onDelete}\n};\n_s(useCountries, \"qvmSs/NPIv22LL/N2P3VLKhYCEw=\");\nexport default useCountries;","map":{"version":3,"names":["useCallback","useEffect","useState","countriesRepository","initialState","useCountries","_s","state","setState","fetchCountries","findAll","then","response","data","catch","error","console","log","onAdd","add","onEdit","id","edit","onDelete","delete"],"sources":["/Users/snezhanakoleva/IdeaProjects/EMT/emt-frontend/src/hooks/useCountries.js"],"sourcesContent":["import {useCallback, useEffect, useState} from \"react\";\nimport countriesRepository from \"../repository/countriesRepository\";\n\nconst initialState = {\n    \"countries\": [],\n    \"loading\": true,\n};\n\nconst useCountries = () => {\n    const [state, setState] = useState(initialState);\n\n    const fetchCountries = useCallback(() => {\n        countriesRepository\n            .findAll()\n            .then((response) => {\n                setState({\n                    \"countries\": response.data,\n                    \"loading\": false,\n                });\n            })\n            .catch((error) => console.log(error));\n    }, []);\n\n    const onAdd = useCallback((data) => {\n        countriesRepository\n            .add(data)\n            .then(() => {\n                console.log(\"Successfully added a new product.\");\n                fetchCountries();\n            })\n            .catch((error) => console.log(error));\n    }, [fetchCountries]);\n\n    const onEdit = useCallback((id, data) => {\n        countriesRepository\n            .edit(id, data)\n            .then(() => {\n                console.log(`Successfully edited the product with ID ${id}.`);\n                fetchCountries();\n            })\n            .catch((error) => console.log(error));\n    }, [fetchCountries]);\n\n\n    const onDelete = useCallback((id) => {\n        countriesRepository\n            .delete(id)\n            .then(() => {\n                console.log(`Successfully deleted the book with ID ${id}.`);\n                fetchCountries();\n            })\n            .catch((error) => console.log(error));\n    }, [fetchCountries]);\n\n    useEffect(() => {\n        fetchCountries();\n    }, [fetchCountries]);\n\n    return {...state, onAdd: onAdd, onEdit: onEdit, onDelete: onDelete}\n    // return {...state, onDelete: onDelete}\n};\n\nexport default useCountries"],"mappings":";AAAA,SAAQA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AACtD,OAAOC,mBAAmB,MAAM,mCAAmC;AAEnE,MAAMC,YAAY,GAAG;EACjB,WAAW,EAAE,EAAE;EACf,SAAS,EAAE;AACf,CAAC;AAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAACE,YAAY,CAAC;EAEhD,MAAMK,cAAc,GAAGT,WAAW,CAAC,MAAM;IACrCG,mBAAmB,CACdO,OAAO,CAAC,CAAC,CACTC,IAAI,CAAEC,QAAQ,IAAK;MAChBJ,QAAQ,CAAC;QACL,WAAW,EAAEI,QAAQ,CAACC,IAAI;QAC1B,SAAS,EAAE;MACf,CAAC,CAAC;IACN,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,KAAK,GAAGlB,WAAW,CAAEa,IAAI,IAAK;IAChCV,mBAAmB,CACdgB,GAAG,CAACN,IAAI,CAAC,CACTF,IAAI,CAAC,MAAM;MACRK,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;MAChDR,cAAc,CAAC,CAAC;IACpB,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACN,cAAc,CAAC,CAAC;EAEpB,MAAMW,MAAM,GAAGpB,WAAW,CAAC,CAACqB,EAAE,EAAER,IAAI,KAAK;IACrCV,mBAAmB,CACdmB,IAAI,CAACD,EAAE,EAAER,IAAI,CAAC,CACdF,IAAI,CAAC,MAAM;MACRK,OAAO,CAACC,GAAG,CAAC,2CAA2CI,EAAE,GAAG,CAAC;MAC7DZ,cAAc,CAAC,CAAC;IACpB,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACN,cAAc,CAAC,CAAC;EAGpB,MAAMc,QAAQ,GAAGvB,WAAW,CAAEqB,EAAE,IAAK;IACjClB,mBAAmB,CACdqB,MAAM,CAACH,EAAE,CAAC,CACVV,IAAI,CAAC,MAAM;MACRK,OAAO,CAACC,GAAG,CAAC,yCAAyCI,EAAE,GAAG,CAAC;MAC3DZ,cAAc,CAAC,CAAC;IACpB,CAAC,CAAC,CACDK,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC;EAC7C,CAAC,EAAE,CAACN,cAAc,CAAC,CAAC;EAEpBR,SAAS,CAAC,MAAM;IACZQ,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,OAAO;IAAC,GAAGF,KAAK;IAAEW,KAAK,EAAEA,KAAK;IAAEE,MAAM,EAAEA,MAAM;IAAEG,QAAQ,EAAEA;EAAQ,CAAC;EACnE;AACJ,CAAC;AAACjB,EAAA,CApDID,YAAY;AAsDlB,eAAeA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}